import{d as x,r as f,G as y,c as C,g as S,T as A,h as p,i as e,I as M,U as $,j as o,l as N,F as B,p as V,q as d,w as n,s as u,k as z,t as k,K as T,m as F,x as L,R as _,V as O,B as q,D as E}from"./index-4d0be3dc.js";import{_ as R}from"./home-outline-386c54c3.js";import{_ as G}from"./bookmark-64fd0918.js";import{u as K}from"./preferences-223d7d1b.js";const P=e("h1",{class:"pagetitle"},"Bookmarks",-1),U={class:"search-bar"},j=e("button",{disabled:""},[e("svg",{viewBox:"0 0 1024 1024"},[e("path",{class:"path1",d:"M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"})])],-1),H=e("h2",null,"Bookmarked Songs",-1),I={class:"songlist"},J={class:"song__title"},Q={class:"book__title"},W={class:"booktext--right"},X={class:"song__number"},Y={key:0,class:"ionicon",style:{filter:"invert(100%) sepia(9%) saturate(7497%) hue-rotate(180deg) brightness(103%) contrast(93%)"},src:O},Z={class:"nav"},ee=e("img",{class:"ionicon nav__icon",src:R},null,-1),te=e("span",{class:"nav__text"},"Home",-1),se=e("img",{class:"ionicon nav__icon",src:q},null,-1),ae=e("span",{class:"nav__text"},"Search",-1),oe=e("img",{class:"ionicon nav__icon--active",src:G},null,-1),ie=e("span",{class:"nav__text"},"Bookmarks",-1),re=e("img",{class:"ionicon nav__icon",src:E},null,-1),le=e("span",{class:"nav__text"},"Settings",-1),me=x({__name:"BookmarkedView",setup(ne){let r=f(""),m=y(()=>r.value.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/s{2,}/g," ").toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"")),h=f([]),D=y(()=>h.value.filter(s=>{var a,t,l;return((a=s.stripped_title)==null?void 0:a.includes(m.value))||((t=s==null?void 0:s.stripped_first_line)==null?void 0:t.includes(m.value))||((l=s==null?void 0:s.number)==null?void 0:l.includes(m.value))}).sort((s,a)=>s.title.localeCompare(a.title)));const w=K("bookmarks",[]);return C(async()=>{var t,l,v,b,g;const s=await S(),a=await A();for(const c of w.value){const i=a[c.book][c.number];h.value.push({title:i.title??"",number:c.number,book:s[c.book],stripped_title:((i==null?void 0:i.title)??"").replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/s{2,}/g," ").toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,""),stripped_first_line:((g=(b=(v=(l=(t=i==null?void 0:i.first_line)==null?void 0:t.replace(/[.,/#!$%^&*;:{}=\-_'"`~()]/g,""))==null?void 0:l.replace(/s{2,}/g," "))==null?void 0:v.toLowerCase())==null?void 0:b.normalize("NFD"))==null?void 0:g.replace(/\p{Diacritic}/gu,""))??""})}}),(s,a)=>(u(),p(B,null,[P,e("div",U,[M(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>N(r)?r.value=t:r=t),placeholder:"Search for a song title or number...","aria-label":"Search through site content"},null,512),[[$,o(r)]]),j]),H,e("div",I,[(u(!0),p(B,null,V(o(D),t=>(u(),z(o(_),{key:t.book.name.short+t.number,to:`/display/${t.book.name.short}/${t.number}`,class:"song",style:L(`background: linear-gradient(135deg, ${t.book.primaryColor}, ${t.book.secondaryColor})`)},{default:n(()=>[e("div",null,[e("div",J,k(t.title),1),e("div",Q,k(t.book.name.medium),1)]),e("div",W,[e("div",X,"#"+k(t.number),1),t.book.addOn&&o(T).getPlatform()!=="web"?(u(),p("img",Y)):F("",!0)])]),_:2},1032,["to","style"]))),128))]),e("nav",Z,[d(o(_),{to:"/",class:"nav__link"},{default:n(()=>[ee,te]),_:1}),d(o(_),{to:"/search",class:"nav__link"},{default:n(()=>[se,ae]),_:1}),d(o(_),{to:"/bookmarks",class:"nav__link nav__link--active"},{default:n(()=>[oe,ie]),_:1}),d(o(_),{to:"/settings",class:"nav__link"},{default:n(()=>[re,le]),_:1})])],64))}});export{me as default};

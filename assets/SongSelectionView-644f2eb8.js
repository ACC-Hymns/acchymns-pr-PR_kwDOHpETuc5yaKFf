import{_ as V}from"./chevron-back-outline-221160d9.js";import{d as L,u as R,a as D,o as I,b as M,r as _,c as N,g as P,e as E,f as O,n as j,h as p,i as t,j as o,t as S,k as w,w as r,l as z,m as x,F as y,p as F,q as v,s as c,R as d,v as q,x as H,y as K,z as U,_ as X,A as Y,B as G,C as J,D as Q,E as W}from"./index-4d0be3dc.js";import{_ as Z}from"./wifi_off-856a1c9a.js";const B=new Map;function tt(a){B.set(a,{top:window.scrollY,left:window.scrollX})}function st(a){const n=B.get(a);n&&window.scrollTo(n)}const e=a=>(K("data-v-e9b15509"),a=a(),U(),a),ot={class:"menu"},et={class:"title"},at={class:"title--left"},nt={class:"title--center"},lt={class:"title--right"},it=e(()=>t("img",{class:"ionicon",src:X},null,-1)),ct=e(()=>t("p",{class:"tooltiptext"},"New! Topical Index",-1)),_t=[ct],rt={key:0,class:"fallback-container"},dt=e(()=>t("img",{class:"wifi-fallback",src:Z},null,-1)),ut=[dt],pt={key:1,class:"songs main-content"},vt={class:"nav"},mt=e(()=>t("img",{class:"ionicon nav__icon--active",src:Y},null,-1)),kt=e(()=>t("span",{class:"nav__text"},"Home",-1)),ft=e(()=>t("img",{class:"ionicon nav__icon",src:G},null,-1)),ht=e(()=>t("span",{class:"nav__text"},"Search",-1)),gt=e(()=>t("img",{class:"ionicon nav__icon",src:J},null,-1)),bt=e(()=>t("span",{class:"nav__text"},"Bookmarks",-1)),St=e(()=>t("img",{class:"ionicon nav__icon",src:Q},null,-1)),wt=e(()=>t("span",{class:"nav__text"},"Settings",-1)),xt=L({__name:"SongSelectionView",props:{book:{}},setup(a){const n=a,C=R(),T=D();I((l,s)=>{tt(s.fullPath)});let u=M("topical_index_tooltip_complete",!1);const m=_(!1),h=_([]);let g=_(""),k=_(!1),b=_("#000000"),f=_();N(async()=>{const l=await P(),s=await E(n.book);if(s==null){m.value=!0;return}h.value=Object.keys(s).sort((i,A)=>i.localeCompare(A,"en",{numeric:!0})),g.value=l[n.book].name.medium,b.value=l[n.book].primaryColor,k.value=l[n.book].indexAvailable,O("isAlphabetical",!1).value=!1,await j(),st(T.fullPath)});function $(){var l,s;(l=f.value)==null||l.classList.add("tooltiphidden"),(s=f.value)==null||s.classList.add("tooltip"),setTimeout(()=>{u.value=!0},1e3)}return(l,s)=>(c(),p(y,null,[t("div",ot,[t("div",et,[t("div",at,[t("img",{onClick:s[0]||(s[0]=i=>o(C).back()),class:"ionicon",src:V})]),t("div",nt,[t("h1",null,S(m.value?"Unavailable":o(g)),1)]),t("div",lt,[t("div",{onClick:$},[o(k)?(c(),w(o(d),{key:0,to:`/topical/${n.book}`,onClick:s[1]||(s[1]=i=>z(u)?u.value=!0:u=!0)},{default:r(()=>[it]),_:1},8,["to"])):x("",!0),!o(u)&&o(k)?(c(),p("div",{key:1,class:"tooltip",ref_key:"tooltip",ref:f},_t,512)):x("",!0)])])])]),m.value?(c(),p("div",rt,ut)):(c(),p("div",pt,[(c(!0),p(y,null,F(h.value,i=>(c(),w(o(d),{key:i,to:`/display/${n.book}/${i}`,class:"song-btn",style:H({background:o(b)})},{default:r(()=>[q(S(i),1)]),_:2},1032,["to","style"]))),128))])),t("nav",vt,[v(o(d),{to:"/",class:"nav__link nav__link--active"},{default:r(()=>[mt,kt]),_:1}),v(o(d),{to:"/search",class:"nav__link"},{default:r(()=>[ft,ht]),_:1}),v(o(d),{to:"/bookmarks",class:"nav__link"},{default:r(()=>[gt,bt]),_:1}),v(o(d),{to:"/settings",class:"nav__link"},{default:r(()=>[St,wt]),_:1})])],64))}});const Tt=W(xt,[["__scopeId","data-v-e9b15509"]]);export{Tt as default};
